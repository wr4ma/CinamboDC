<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>wr4ma ‚ö° Fast STO Webform</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Roboto+Mono:wght@500;700&display=swap" rel="stylesheet">
    <script src="https://unpkg.com/html5-qrcode" type="text/javascript"></script>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <h1>‚ö° Fast STO Webform</h1>
    
    <div class="guide-btn-container">
        <button id="guideBtn" type="button">üìñ Panduan & Changelog</button>
    </div>

    <form id="opnameForm">
        <div class="form-group">
            <label>Facility (Lokasi)</label>
            <div class="radio-group">
                <label class="radio-container">Cinambo RDC
                    <input type="radio" name="facility" value="Cinambo RDC" required>
                    <span class="checkmark"></span>
                </label>
                <label class="radio-container">Cinambo DC
                    <input type="radio" name="facility" value="Cinambo DC" checked required>
                    <span class="checkmark"></span>
                </label>
            </div>
        </div>

        <div class="form-group">
            <label for="jenisAsset">Jenis Asset</label>
            <select id="jenisAsset" name="jenisAsset" required>
                <option value="">-- Pilih Jenis Asset --</option>
                <option value="PDA">PDA</option>
                <option value="Printer">Printer</option>
                <option value="Printer Thermal">Printer Thermal</option>
                <option value="Laptop">Laptop</option>
                <option value="Handheld Scanner">Handheld Scanner</option>
                <option value="PC Desktop">PC Desktop</option>
                <option value="Handy Talky">Handy Talky</option>
                <option value="Lainnya">Lainnya</option>
            </select>
            <div id="jenisAssetLainnyaDiv" style="display: none; margin-top: 15px;">
                <label for="jenisAssetLainnya">Ketik Jenis Asset Lainnya</label>
                <input type="text" id="jenisAssetLainnya" name="jenisAssetLainnya">
            </div>
        </div>
        
        <div class="form-group">
            <label for="serialNumber">Serial Number</label>
            <div class="input-group">
                <input type="text" id="serialNumber" name="serialNumber" required placeholder="Ketik atau Scan...">
                <button type="button" class="scan-trigger-btn" id="openScanBtn" title="Scan Barcode">
                    <svg viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                        <path d="M5 5h4v2H5v4H3V5h2zm4 14H5v-4H3v4h2v2h4v-2zm10-14h-4v2h4v4h2V5h-2zm0 10h2v4h-2v2h-4v-2h4v-4zM7 9h10v6H7V9z"/>
                    </svg>
                </button>
            </div>
        </div>

        <div class="form-group">
            <label for="deviceId">Device ID</label>
            <input type="text" id="deviceId" name="deviceId" required>
            <small class="keterangan">isi - jika Device ID tidak ada atau sudah pernah diinput</small>
        </div>

        <div class="form-group">
            <label for="kondisi">Kondisi</label>
            <select id="kondisi" name="kondisi" required>
                <option value="Bagus">Bagus</option>
                <option value="Rusak">Rusak</option>
            </select>
        </div>

        <div class="form-group">
            <label for="fotoAsset">Ambil Foto Asset</label>
            <input type="file" id="fotoAsset" accept="image/*" capture required>
        </div>
        
        <button type="submit" id="submitButton">Submit</button>
    </form>
    <div id="status"></div>

    <div class="main-footer">
        Made With ‚ù§Ô∏è by <a href="https://www.instagram.com/wr4ma/" target="_blank" class="wr4ma-link">wr4ma</a>
    </div>

    <div id="guideModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeGuideModal">&times;</span>
            <div class="modal-section">
                <h2>üìö Panduan Cara STO</h2>
                <ul>
                    <li><strong>Sebelum Memulai Pastikan:</strong> Asset Sudah Disiapkan.</li>
                    <li><strong>Pilih Facility:</strong> Tentukan lokasi (RDC/DC) di bagian atas.</li>
                    <li><strong>Pastikan GPS Aktif:</strong> Pastikan GPS/Lokasi di hp Aktif sebelum memulai STO agar lokasi tercatat.</li>
                    <li><strong>Izin Lokasi:</strong> Klik "Allow/Izinkan" saat browser meminta akses lokasi.</li>
                    <li><strong>Jenis Asset:</strong> Pilih dari daftar atau ketik manual.</li>
                    <li><strong>Serial Number:</strong> Gunakan tombol scan (ikon pembidik) atau ketik manual.</li>
                    <li><strong>Device ID:</strong> Isi jika ada, atau tanda strip (-) jika kosong.</li>
                    <li><strong>Foto:</strong> Ambil foto aset. Data waktu dan lokasi akan otomatis ditambahkan.</li>
                </ul>
            </div>
            
            <div class="modal-section">
                <h2>üõ†Ô∏è Changelog (Riwayat Fitur)</h2>
                <div class="changelog-item">
                    <div class="changelog-date">Versi 1.8 (Terbaru)</div>
                    <ul>
                        <li>Penambahan pilihan Facility (Cinambo RDC / DC).</li>
                        <li>Pilihan Facility tidak akan reset setelah submit.</li>
                    </ul>
                </div>
                <div class="changelog-item">
                    <div class="changelog-date">Versi 1.7</div>
                    <ul>
                        <li>Penghapusan fitur Flash untuk stabilitas kamera.</li>
                        <li>Perubahan ikon tombol scan menjadi logo Viewfinder.</li>
                    </ul>
                </div>
                <div class="changelog-item">
                    <div class="changelog-date">Versi 1.6</div>
                    <ul>
                        <li>Penambahan fitur Scan Barcode (In-App) pada Serial Number.</li>
                    </ul>
                </div>
                <div class="changelog-item">
                    <div class="changelog-date">Versi 1.4</div>
                    <ul>
                        <li>Perubahan format Timestamp menjadi: <code>HH:MM | DD Bulan YYYY</code>.</li>
                        <li>Perubahan jenis font pada foto agar lebih mudah dibaca.</li>
                    </ul>
                </div>
                <div class="changelog-item">
                    <div class="changelog-date">Versi 1.3</div>
                    <ul>
                        <li>Penambahan fitur Auto-Lokasi pada watermark foto.</li>
                        <li>Optimasi kompresi gambar & perbaikan sistem upload.</li>
                    </ul>
                </div>
                <div class="changelog-item">
                    <div class="changelog-date">Versi 1.2</div>
                    <ul>
                        <li>Penambahan opsi "Handy Talky", kolom "Device ID", dan "Kondisi".</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>

    <div id="scannerModal" class="modal">
        <div class="modal-content">
            <span class="close" id="closeScannerModal">&times;</span>
            <h2>üì∑ Pindai Barcode</h2>
            <div id="scanner-viewport"></div>
            <p id="scanner-status" style="font-size: 0.8em; color: gray; text-align: center;">Arahkan kamera ke barcode/QR Code</p>
            <button type="button" id="stopScanBtn">Batalkan</button>
        </div>
    </div>

    <script src="script.js"></script>
</body>
</html>